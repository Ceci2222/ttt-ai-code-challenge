#!/usr/bin/env ruby

require_relative '../config/environment'

play_again = nil
while play_again != "N"
	puts "Welcome to Tic Tac Toe! "
	print "How many players? (0, 1, 2): "
	num_players = gets.strip.to_i

	if num_players == 0
		player_1 = Players::Computer.new("X")
		player_2 = Players::Computer.new("O")
	elsif num_players == 1
		print "You will be playing against the computer. Which Token would you like? (X/O): "
		my_token = gets.chomp.upcase
		computer_token = my_token == "X" ? "O" : "X"
		player_1 = Players::Human.new(my_token)
		player_2 = Players::Computer.new(computer_token)
	elsif num_players == 2
		print "You will be playing against a friend. "
		player_1 = Players::Human.new("X")
		player_2 = Players::Human.new("O")
	end


	print "Who should go first? (X/O): "
	who_goes_first = gets.chomp.upcase

	if player_1.token == who_goes_first
		game = Game.new(player_1, player_2)
	else
		game = Game.new(player_2, player_1)
	end
	game.play
	print "Play again? (y/n)"
	play_again = gets.strip.upcase
end

#detect the token

